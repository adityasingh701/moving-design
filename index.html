<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Smart India Hub â€“ Design Reel</title>
<style>
body{margin:0;background:black;overflow:hidden;font-family:Arial}
#ui{
 position:fixed;top:10px;left:10px;
 background:rgba(0,0,0,.7);color:white;
 padding:12px;border-radius:8px;z-index:10
}
input,button{margin-top:6px;padding:6px;width:120px}
canvas{display:block;margin:auto}
</style>
</head>
<body>

<div id="ui">
Rotation (rt):<br>
<input id="rot" type="number" value="500"><br>
<button onclick="start()">Download Reel</button>
</div>

<canvas id="c"></canvas>

<script>
const canvas=document.getElementById("c");
const ctx=canvas.getContext("2d");

// Reel size
canvas.width=1080;
canvas.height=1920;

let rec,chunks=[];

function hsv(h,s,v){
 let f=(n,k=(n+h*6)%6)=>v-v*s*Math.max(Math.min(k,4-k,1),0);
 return [f(5)*255,f(3)*255,f(1)*255];
}

// --- TRUE Turtle ---
let turtle={
 x:canvas.width/2,
 y:canvas.height/2,
 ang:0
};

function forward(d){
 turtle.x+=Math.cos(turtle.ang)*d;
 turtle.y+=Math.sin(turtle.ang)*d;
}

function right(a){ turtle.ang+=a*Math.PI/180 }

function turtleCircle(radius,extent){
 let steps=100;
 let step=extent/steps;
 let arc=2*Math.PI*radius*(extent/360)/steps;

 ctx.beginPath();
 ctx.moveTo(turtle.x,turtle.y);

 for(let i=0;i<steps;i++){
     right(step);
     forward(arc);
     ctx.lineTo(turtle.x,turtle.y);
 }
 ctx.stroke();
}

function turtleCircleFill(radius,extent){
 let steps=100;
 let step=extent/steps;
 let arc=2*Math.PI*radius*(extent/360)/steps;

 ctx.beginPath();
 ctx.moveTo(turtle.x,turtle.y);

 for(let i=0;i<steps;i++){
     right(step);
     forward(arc);
     ctx.lineTo(turtle.x,turtle.y);
 }
 ctx.closePath();
 ctx.fill();
}

// watermark
function watermark(){
 ctx.font="32px Arial";
 ctx.fillStyle="rgba(255,255,255,.25)";
 ctx.fillText("Smart India Hub",canvas.width-350,canvas.height-40);
}

// video
async function record(){
 const stream=canvas.captureStream(120);
 rec=new MediaRecorder(stream,{mimeType:"video/webm"});
 rec.ondataavailable=e=>chunks.push(e.data);
 rec.onstop=()=>{
  const blob=new Blob(chunks,{type:"video/webm"});
  const a=document.createElement("a");
  a.href=URL.createObjectURL(blob);
  a.download="SmartIndiaHub_Reel.webm";
  a.click();
  chunks=[];
 };
 rec.start();
}

async function start(){
 await record();

 ctx.clearRect(0,0,canvas.width,canvas.height);
 ctx.lineWidth=2;

 turtle.x=canvas.width/2;
 turtle.y=canvas.height/2;
 turtle.ang=0;

 let h=0;
 let rot=parseFloat(document.getElementById("rot").value);

 for(let i=0;i<200;i++){
   let rgb=hsv(h,1,1); h+=0.011;
   ctx.strokeStyle=`rgb(${rgb[0]},${rgb[1]},${rgb[2]})`;
   ctx.fillStyle=ctx.strokeStyle;

   turtleCircle(i,100);
   right(rot);

   turtleCircleFill(i,90);
   right(55);

   turtleCircle(10,70);

   watermark();
   await new Promise(r=>setTimeout(r,25));
 }

 rec.stop();
}
</script>
</body>
</html>


