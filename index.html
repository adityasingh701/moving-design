<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Smart India Hub â€“ Design Reel</title>
<style>
body{margin:0;background:black;overflow:hidden;font-family:Arial}
#ui{
 position:fixed;top:15px;left:15px;
 background:rgba(0,0,0,.7);color:white;
 padding:22px;border-radius:15px;z-index:10
}
input,button{margin-top:6px;padding:6px;width:120px}
canvas{display:block;margin:auto}
</style>
</head>
<body>

<div id="ui">
Rotation (rt):<br>
<input id="rot" type="number" value="500"><br>
<button onclick="start()">Download Reel</button>
</div>

<canvas id="c"></canvas>

<script>
const canvas=document.getElementById("c");
const ctx=canvas.getContext("2d");

canvas.width=1080;
canvas.height=1920;

let turtle, i=0, h=0, stage=0;
let rot=50;
let recorder, chunks=[];

function hsv(h,s,v){
 let f=(n,k=(n+h*6)%6)=>v-v*s*Math.max(Math.min(k,4-k,1),0);
 return [f(5)*255,f(3)*255,f(1)*255];
}

function initTurtle(){
 turtle={
  x:canvas.width/2,
  y:canvas.height/2,
  a:0
 };
}

function forward(d){
 turtle.x+=Math.cos(turtle.a)*d;
 turtle.y+=Math.sin(turtle.a)*d;
}

function right(a){ turtle.a+=a*Math.PI/180 }

function arc(radius,extent,fill=false){
 let steps=40;
 let step=extent/steps;
 let len=2*Math.PI*radius*(extent/360)/steps;

 ctx.beginPath();
 ctx.moveTo(turtle.x,turtle.y);
 for(let k=0;k<steps;k++){
   right(step);
   forward(len);
   ctx.lineTo(turtle.x,turtle.y);
 }
 fill?ctx.fill():ctx.stroke();
}

function watermark(){
 ctx.font="32px Arial";
 ctx.fillStyle="rgba(255,255,255,.25)";
 ctx.fillText("Smart India Hub",canvas.width-350,canvas.height-40);
}

function startRecord(){
 const stream=canvas.captureStream(60);
 recorder=new MediaRecorder(stream,{mimeType:"video/webm"});
 recorder.ondataavailable=e=>chunks.push(e.data);
 recorder.onstop=()=>{
   const blob=new Blob(chunks,{type:"video/webm"});
   const a=document.createElement("a");
   a.href=URL.createObjectURL(blob);
   a.download="SmartIndiaHub_Reel.webm";
   a.click();
   chunks=[];
 };
 recorder.start();
}

function draw(){
 if(i>=200){
   recorder.stop();
   return;
 }

 let rgb=hsv(h,1,1);
 ctx.strokeStyle=`rgb(${rgb[0]},${rgb[1]},${rgb[2]})`;
 ctx.fillStyle=ctx.strokeStyle;

 if(stage==0){
   arc(i,100,false);
   right(rot);
   stage=1;
 }
 else if(stage==1){
   arc(i,90,true);
   right(55);
   stage=2;
 }
 else{
   arc(10,70,false);
   stage=0;
   i++;
   h+=0.011;
 }

 watermark();
 requestAnimationFrame(draw);
}

function start(){
 rot=parseFloat(document.getElementById("rot").value);
 ctx.clearRect(0,0,canvas.width,canvas.height);
 initTurtle();
 i=0; h=0; stage=0;
 startRecord();
 requestAnimationFrame(draw);
}
</script>
 

</body>
</html>


