<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Smart India Hub â€“ Turtle Animation</title>
<style>
body{
  margin:0;
  background:black;
  overflow:hidden;
  font-family:Arial;
}
#panel{
  position:fixed;
  top:20px;
  left:20px;
  background:rgba(0,0,0,0.75);
  padding:18px;
  border-radius:12px;
  color:white;
  z-index:10;
  width:240px;
}
#panel input{
  width:100%;
  padding:10px;
  margin-top:10px;
  font-size:16px;
}
#panel button{
  width:100%;
  padding:12px;
  margin-top:12px;
  font-size:16px;
  cursor:pointer;
}
canvas{
  display:block;
  margin:auto;
}
</style>
</head>
<body>

<div id="panel">
<b>Rotation (rt)</b>
<input id="rot" type="number" value="50">
<button onclick="start()">Re-Animate</button>
</div>

<canvas id="c"></canvas>

<script>
const canvas = document.getElementById("c");
const ctx = canvas.getContext("2d");

canvas.width = 1400;
canvas.height = 1400;

let turtle, i, h, stage, rot;

function resetTurtle(){
  turtle = {
    x: canvas.width/2,
    y: canvas.height/2,
    a: 0
  };
}

function hsv(h,s,v){
  let f = (n,k=(n+h*6)%6)=>v-v*s*Math.max(Math.min(k,4-k,1),0);
  return [f(5)*255,f(3)*255,f(1)*255];
}

function forward(d){
  turtle.x += Math.cos(turtle.a)*d;
  turtle.y += Math.sin(turtle.a)*d;
}

function right(a){
  turtle.a += a*Math.PI/180;
}

function turtleArc(radius, extent, fill=false){
  let steps = 80;
  let step = extent/steps;
  let len = 2*Math.PI*radius*(extent/360)/steps;

  ctx.beginPath();
  ctx.moveTo(turtle.x, turtle.y);

  for(let k=0;k<steps;k++){
    right(step);
    forward(len);
    ctx.lineTo(turtle.x, turtle.y);
  }

  if(fill) ctx.fill();
  else ctx.stroke();
}

function animate(){
  if(i >= 200) return;

  let rgb = hsv(h,1,1);
  ctx.strokeStyle = `rgb(${rgb[0]},${rgb[1]},${rgb[2]})`;
  ctx.fillStyle   = ctx.strokeStyle;

  if(stage === 0){
    turtleArc(i*1.4, 100, false);
    right(rot);
    stage = 1;
  }
  else if(stage === 1){
    turtleArc(i*1.4, 90, true);
    right(55);
    stage = 2;
  }
  else{
    turtleArc(14, 70, false);
    stage = 0;
    i++;
    h += 0.011;
  }

  requestAnimationFrame(animate);
}

function start(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  resetTurtle();
  i = 0;
  h = 0;
  stage = 0;
  rot = parseFloat(document.getElementById("rot").value);
  requestAnimationFrame(animate);
}

start();
</script>

</body>
</html>

